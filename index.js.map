{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["\nif (import.meta.env.DEV) {\n  import('./css/debug.css');\n\n  window.addEventListener('keydown', e => {\n    if (e.ctrlKey && e.altKey && e.key === 'd') { // Ctrl + Alt + D -- turn on debug mode\n      document.body.classList.toggle('debug-mode');\n    }\n  });\n}\n\n(() => {\n  const refs = {\n    openMobileMenuBtn: document.querySelector('[data-mobile-menu-open]'),\n    closeMobileMenuBtn: document.querySelector('[data-mobile-menu-close]'),\n    MobileMenu: document.querySelector('[data-mobile-menu]'),\n    mobileMenuLinks: document.querySelectorAll(\n      '[data-mobile-menu] a[href^=\"#\"]'\n    ),\n  };\n\n  refs.openMobileMenuBtn.addEventListener('click', toggleMobileMenu);\n  refs.closeMobileMenuBtn.addEventListener('click', toggleMobileMenu);\n\n  refs.mobileMenuLinks.forEach(link => {\n    link.addEventListener('click', () => {\n      if (refs.MobileMenu.classList.contains('is-open')) {\n        toggleMobileMenu();\n      }\n    });\n  });\n\n  function toggleMobileMenu() {\n    refs.MobileMenu.classList.toggle('is-open');\n    document.body.classList.toggle('is-menu-open');\n  }\n\n  sectionsObserver();\n})();\n\nfunction sectionsObserver() {\n  const navLinks = document.querySelectorAll('.header-nav-link');\n  const sections = document.querySelectorAll('section');\n\n  const options = {\n    threshold: 0,\n    rootMargin: '-80px 0px -70% 0px',\n  };\n\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const id = entry.target.getAttribute('id');\n\n        navLinks.forEach(link => {\n          link.classList.remove('current');\n          if (link.getAttribute('href') === `#${id}`) {\n            link.classList.add('current');\n          }\n        });\n      }\n    });\n  }, options);\n\n  sections.forEach(section => {\n    observer.observe(section);\n  });\n\n  window.addEventListener('scroll', () => {\n    if (\n      window.innerHeight + window.scrollY >=\n      document.body.offsetHeight - 10\n    ) {\n      navLinks.forEach(link => link.classList.remove('current'));\n      navLinks[navLinks.length - 1].classList.add('current');\n    }\n  });\n}\n"],"names":["refs","toggleMobileMenu","link","sectionsObserver","navLinks","sections","options","observer","entries","entry","id","section"],"mappings":"usBAWC,IAAM,CACL,MAAMA,EAAO,CACX,kBAAmB,SAAS,cAAc,yBAAyB,EACnE,mBAAoB,SAAS,cAAc,0BAA0B,EACrE,WAAY,SAAS,cAAc,oBAAoB,EACvD,gBAAiB,SAAS,iBACxB,iCAAA,CACF,EAGFA,EAAK,kBAAkB,iBAAiB,QAASC,CAAgB,EACjED,EAAK,mBAAmB,iBAAiB,QAASC,CAAgB,EAElED,EAAK,gBAAgB,QAAQE,GAAQ,CACnCA,EAAK,iBAAiB,QAAS,IAAM,CAC/BF,EAAK,WAAW,UAAU,SAAS,SAAS,GAC9CC,EAAA,CAEJ,CAAC,CACH,CAAC,EAED,SAASA,GAAmB,CAC1BD,EAAK,WAAW,UAAU,OAAO,SAAS,EAC1C,SAAS,KAAK,UAAU,OAAO,cAAc,CAC/C,CAEAG,EAAA,CACF,GAAA,EAEA,SAASA,GAAmB,CAC1B,MAAMC,EAAW,SAAS,iBAAiB,kBAAkB,EACvDC,EAAW,SAAS,iBAAiB,SAAS,EAE9CC,EAAU,CACd,UAAW,EACX,WAAY,oBAAA,EAGRC,EAAW,IAAI,qBAAqBC,GAAW,CACnDA,EAAQ,QAAQC,GAAS,CACvB,GAAIA,EAAM,eAAgB,CACxB,MAAMC,EAAKD,EAAM,OAAO,aAAa,IAAI,EAEzCL,EAAS,QAAQF,GAAQ,CACvBA,EAAK,UAAU,OAAO,SAAS,EAC3BA,EAAK,aAAa,MAAM,IAAM,IAAIQ,CAAE,IACtCR,EAAK,UAAU,IAAI,SAAS,CAEhC,CAAC,CACH,CACF,CAAC,CACH,EAAGI,CAAO,EAEVD,EAAS,QAAQM,GAAW,CAC1BJ,EAAS,QAAQI,CAAO,CAC1B,CAAC,EAED,OAAO,iBAAiB,SAAU,IAAM,CAEpC,OAAO,YAAc,OAAO,SAC5B,SAAS,KAAK,aAAe,KAE7BP,EAAS,QAAQF,GAAQA,EAAK,UAAU,OAAO,SAAS,CAAC,EACzDE,EAASA,EAAS,OAAS,CAAC,EAAE,UAAU,IAAI,SAAS,EAEzD,CAAC,CACH"}